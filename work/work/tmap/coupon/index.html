<!doctype html>
<html lang="ko">
<head>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="Tmap 쿠폰">
    <meta property="og:type" content="website">
    <meta property="og:image" content="">
    <meta property="og:site_name" content="Tmap 쿠폰">
    <meta property="fb:app_id" content="">
    <meta property="og:url" content="http://event.tmap.co.kr/comm/coupon/index.html">    
    <meta property="og:description" content="Tmap 쿠폰">
    
    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="apple-touch-icon-precomposed" sizes="114×114" href="/share/favicon.png">

	<link rel="stylesheet" type="text/css" href="/share/css/font.css">
	<link rel="stylesheet" type="text/css" href="/comm/coupon/css/coupon.css?ver20190916_1">
    
	<title>T map 쿠폰</title>
	
</head>

<body>
	<header>
    	<a href="javascript:;" class="btn-back"></a>
    	<a href="javascript:;" class="tit">이벤트&쿠폰</a>
    	<a href="javascript:;" class="btn-right">제휴</a>
	</header>
	<div class="cp-tabs">
		<a href="javascript:;" >이벤트</a>
		<a href="javascript:;" class="is-active">쿠폰</a>
	</div>
	<section class="container">
		<h1 class="pt21 pb13">보유 <span class="br num">00</span></h1>
		<ul class="list-coupon mt5">
			<li class="modal-toggle">
				<div class="img"><img src="/comm/coupon/images/img-sb.png" alt="" /></div>
				<div class="txt">
					스타필드가면 시원한 스타벅스 아메리카노 20% 할인
					<span class="date">2019년 8월 31일까지</span>
				</div>
			</li>
			<li>
				<div class="img"><img src="/comm/coupon/images/img-cake.png" alt="" /></div>
				<div class="txt">
					신세계이마트 와인<br>상품권 50,000원권
					<span class="date">2019년 8월 31일까지</span>
				</div>
			</li>
			<li class="modal-toggle">
				<div class="img"><img src="/comm/coupon/images/img-sb.png" alt="" /></div>
				<div class="txt">
					스타필드가면 시원한 
					<span class="date">2019년 8월 31일까지</span>
				</div>
			</li>
		</ul>	
	</section>
	<section class="container">
		<h1 class="pt21 pb13">만료 <span class="br num">00</span></h1>
		<ul class="list-coupon mt5">
			<li class="modal-toggle">
				<div class="img"><img src="/comm/coupon/images/img-sb.png" alt="" /></div>
				<div class="txt">
					스타필드가면 시원한 스타벅스 아메리카노 20% 할인
					<span class="date">2019년 8월 31일까지</span>
				</div>
			</li>
			<li>
				<div class="img"><img src="/comm/coupon/images/img-cake.png" alt="" /></div>
				<div class="txt">
					신세계이마트 와인<br>상품권 50,000원권
					<span class="date">2019년 8월 31일까지</span>
				</div>
			</li>
			<li class="modal-toggle">
				<div class="img"><img src="/comm/coupon/images/img-sb.png" alt="" /></div>
				<div class="txt">
					스타필드가면 시원한 
					<span class="date">2019년 8월 31일까지</span>
				</div>
			</li>
		</ul>	
	</section>
	
	<!-- 쿠폰팝업 -->
    <div id="modal-coupon" class="modal modal-coupon">
      <div class="modal-overlay modal-toggle"></div>
      <div class="modal-wrapper">
      	<a class="btn btn-cancel"><img src="images/icon-popup-close.png" alt="닫기" style="width:24px; height:24px"/></a>
        <div class="modal-content">
	        <div class="scroll_">
	        	<div class="mc-top">
	        		<h2 class="logo"><img src="images/icon-logo-black.png" alt="tmap logo" style="width:58px; height:23px"/></h2>
		        	<div class="cp-img">
		        		<img src="images/img-coupon-ssg.png" alt="" />
		        	</div>
		        	<div class="cp-txt">
		        		가나다라마바사아자차카파타하앓닭가나다라마바사아자차카파타하앓닭
		        		<span class="br date">12월 31일까지</span>
		        	</div>
	        	</div>
	        	
	        	<!-- 쿠폰 넘버 class : num --><!--  <div class="num">391802 - R21938021</div> -->
	        	<!-- 쿠폰 바코드 class : bcode --><div class="bcode"><img src="images/img-barcode.png" alt="" /></div> 
	        	<div class="cp-info">
	        		<h3>사용처</h3>
	        		<p>가나다라마바사아자차카파타하가나다라마바사아자차카파</p>
	        		<h3 class="mt13">이용안내 및 도움말</h3>
	        		<ul>
	        			<li>가나다라마바사아자차카파타하가나다라마바사아자차카파가나다라마바사아자차카파타하가나다라마바사아자차카파</li>
	        			<li>가나다라마바사아자차카파타하가나다라마바사아자차카파</li>
	        			<li>가나다라마바사아자차카파타하가나다라마바사아자차카파</li>
	        		</ul>
	        		<h3 class="mt13">고객문의</h3>
	        		<p>가나다라마바사아자차카파타하가나다라마바사아자차카파</p>
	        	</div>
	        </div>
        </div>
      <div class="_df btns">
        <button class="btn btn-block btn-del">사용하신 쿠폰은 삭제해주세요</button>
      </div>
      </div>
      
    </div>
    <!-- //쿠폰팝업 -->
    
    <!-- 카드삭제 팝업 -->
    <div id="modal-confirm" class="modal modal-confirm">
      <div class="modal-overlay modal-toggle"></div>
      <div class="modal-wrapper">
        <div class="modal-content">
         	 삭제하면 다시 사용할 수 없어요.<br>정말 삭제할까요?
        </div>
        <div class="_df btns">
          <button class="btn btn-gr w50p btn-cancel">취소</button>
          <button class="btn btn-bl w50p btn-confirm">확인</button>
        </div>
      </div>
    </div>
    <!-- //카드삭제 팝업 -->
    
	</body>
	<script src="/share/js/bodyScrollLock.js"></script>	
	<script>
	
		//scroll lock
		const targetElement = document.querySelector(".scroll_");
		
		
	    //show modal
		const showModal = function (el) {
			const wh = window.innerHeight;
			const thisEl = document.querySelector('.'+ el);
			const mcw = thisEl.querySelector('.modal-wrapper');
			const mcwh = mcw.offsetHeight;
			
			thisEl.classList.toggle('is-visible');
			//document.querySelector('body').classList.toggle('oh');
			
			/* 쿠폰 팝업 */
			if(el === 'modal-coupon'){
				const bch = mcw.querySelector('.btn-cancel').offsetHeight;
				thisEl.querySelector('.modal-content .scroll_').scrollTop = 0;
				mcw.querySelector('.modal-content').style.height = (wh - bch - 90) + 'px';
			}
			
			/* 컨펌 팝업 */
			//console.log(el === 'modal-confirm' && _this.classList.contains("is-visible"))
			if(el === 'modal-confirm' && thisEl.classList.contains("is-visible")){
				mcw.style.marginTop = wh/2 - mcwh /2 + 'px';
			}
			
			bodyScrollLock.disableBodyScroll(targetElement);
			
		}
	  	
	    //add click event to tag 'li'
		const cpList = document.querySelectorAll(".list-coupon > li");
		cpList.forEach( x => {
		  x.addEventListener('click', (e) => { showModal('modal-coupon') });
		})
	    
	  	//modal cancel click event
		const cb = document.querySelectorAll(".btn-cancel");
		cb.forEach( i => {
		  i.addEventListener('click', (e) => {
			  //console.log(e.target)
			  e.target.closest('.modal').classList.remove('is-visible');
			  document.querySelector('body').classList.remove('oh');
			  bodyScrollLock.enableBodyScroll(targetElement);
		  });
		})
		
		//modal confirm click
	    document.querySelector(".btn-del").addEventListener('click', function(){showModal('modal-confirm') });

	
	</script>
	
</html>
